<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home - StoragePro</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Навигация вставляется сюда -->
 <div id="header-placeholder"></div>

<script>
fetch('header.html')
  .then(response => response.text())
  .then(html => {
    const nav = document.getElementById('header-placeholder');
    nav.innerHTML = html;

    // Назначаем ссылки
    const links = {
      navHome: 'index.html',
      navServices: 'services.html',
      navProducts: 'products.html',
      navContact: 'contact.html',
      navCart: 'cart.html'
    };

    for (const id in links) {
      const el = nav.querySelector('#' + id);
      el.href = links[id];

      // Подсветка текущей страницы
      if (window.location.pathname.endsWith(links[id])) {
        el.classList.add('active');
      }
    }

    // Функция обновления счётчика
    function updateCartCount() {
      const count = parseInt(localStorage.getItem('cartCount')) || 0;
      const badge = nav.querySelector('#navCartCount');
      badge.textContent = count;

      // Анимация при изменении
      badge.style.transform = 'scale(1.3)';
      setTimeout(() => { badge.style.transform = 'scale(1)'; }, 300);
    }

    updateCartCount();

    // Слушаем изменения localStorage (если корзина обновляется на другой вкладке)
    window.addEventListener('storage', (event) => {
      if (event.key === 'cartCount') updateCartCount();
    });

    // Автоматическое обновление при добавлении товара на текущей странице
    window.addToCart = function(quantity = 1) {
      let count = parseInt(localStorage.getItem('cartCount')) || 0;
      count += quantity;
      localStorage.setItem('cartCount', count);
      updateCartCount();
    }
  });
</script>



  <main>
    <section class="hero">
      <img src="pictures/block1.jpg" alt="Storage Block">
      <div class="overlay"></div>
      <div class="hero-content">
        <h1>Custom Storage Solutions Tailored to Your Needs</h1>
        <p>From backyard sheds to expansive garages, we craft durable and stylish structures that fit your lifestyle.</p>
        <a href="products.html" class="btn">Get Started</a>
      </div>
    </section>
    
    <section id="services">
      <div class="text-bg">
        <h2>Steps</h2>
      </div>
      <div class="services-container">
        <div class="service-card">
          <h3>1 Step</h3>
          <p>Designed to fit seamlessly into your backyard, offering both functionality and aesthetic appeal.</p>
        </div>
        <div class="service-card">
          <h3>2 Step</h3>
          <p>Perfect for vehicles, workshops, or additional storage, built to withstand the elements.</p>
        </div>
        <div class="service-card">
          <h3>3 Step</h3>
          <p>Transform your space into a personal retreat, whether it's a home office, studio, or hobby room.</p>
        </div>
        <div class="service-card">
          <h3>4 Step</h3>
          <p>Transform your space into a personal retreat, whether it's a home office, studio, or hobby room.</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div>
      <a href="#">Facebook</a>
      <a href="#">Instagram</a>
      <a href="#">LinkedIn</a>
    </div>
    <p>&copy; 2025 StoragePro. All rights reserved.</p>
  </footer>

  <!-- Скрипт для подгрузки меню -->
  <script src="nav.js" defer></script>
</body>
</html>
